# FEM4C 要件整理

本資料は、FEM4C の学習・実装対象を簡潔に整理したものです。

## 1. 目的
- 初学者が FEM の実装手順を追えるように、最小構成から段階的に学習できること。
- NastranBalkFile を parser で読み、FEM ソルバで解析できること。
- 解析結果を `output.dat` / `output.vtk` / `output.f06` に出力できること。

## 2. 対象範囲（現状）
- 解析種別: 線形静解析（小変形）。
- 次元: 2D（x-y 平面）、厚みは単位厚さ（1.0）。
- 要素: T3/T6/Q4 を読み込み（解析は 2D 前提）。
- 境界条件: 変位拘束（Dirichlet）と集中荷重（Force）。
- 入力: native 形式 / parser 出力パッケージ。

## 3. 単位系
- 長さ: mm
- 力: N
- 応力・ヤング率: N/mm^2
- 密度: kg/mm^3

parser 出力の `material/material.dat` は上記の単位系に正規化済み。

## 4. 入出力フロー
- NastranBalkFile -> parser -> parser 出力パッケージ -> solver
- `fem4c` は NastranBalkFile を直接受け取り、一括実行が可能。

## 5. 既知の制約
- Z 方向の拘束・荷重は無視される（2D 前提）。
- 非線形解析（材料/幾何）は未対応。
- 高次要素の面荷重や接触は未対応。

## 6. 学習上の運用
- サンプルコードは `practice/` に集約し、本文は手順と確認観点に集中する。
- 演習や試験用コードを追加する場合も `practice/` 配下に置く。

## 7. 最小検算の要件
- 1要素問題で `K d = f` が成立し、`output.dat` に非ゼロ変位が出ること。
- 単純梁の理論解（片持ち梁・先端荷重）と同オーダーで一致すること。
- 変位が全てゼロの場合は、拘束と荷重の配置を最優先で確認すること。

## 8. 必須知識（学習者が把握すべき項目）
- 形状関数 N とヤコビアン J の意味。
- B マトリクスが「幾何」、D マトリクスが「材料」を表すこと。
- 要素剛性の組立と自由度マッピングの規則。
- 単位系と物性値の整合（E, rho, L, F を同一系で扱う）。
