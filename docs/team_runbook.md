# チーム別 Runbook（PMコメントでトリガー実行）

本書は A/B/C チームの定常タスクとトリガー例をまとめたものです。PM がチャットで「作業実行してください」とコメントし、対象タスク番号を指定すれば着手できるようにしています。

## 共通ルール
- Run ID 書式を厳守: `local-chrono2d-YYYYMMDD-XX` / `#<ID> (chrono-main)` / `#<ID> (Chrono C)`。
- 共有フォーマット（ワンライナー例）:  
  `Run local-chrono2d-20251118-01 / Artifact chrono-2d/artifacts/kkt_descriptor_actions_local.csv`  
  必要に応じてログ/Envパスも併記。  
- リンクチェック: `python scripts/check_doc_links.py <対象md...>` を更新後に実行し、結果をチャットに貼る。  
- 生成物（artifacts/*.csv, テストバイナリ）はコミットしない。サンプルCSVは必要に応じて含めるが、更新有無を明示する。  
- Changelog追記: ドキュメント/テンプレ/Runbook更新時は `docs/documentation_changelog.md` に記録。

## トリガー例
- PMコメント例: `@A-team 実行: A1-A3` / `@B-team 実行: B5,B7` / `@C-team 実行: C2,C4`  
- 報告フォーマット（チャット）:  
  - 実行タスク: A1/A2/...  
  - コマンド/結果サマリ（テキストでOK）  
  - Run ID / Artifact / Log パス  
  - `git status` 概要と生成物有無  
  - リンクチェック結果（実行した場合）
- 完了報告は `docs/team_status.md` の自チームセクションのみを編集して追記する（他セクションは触らない）。

## 次の実行指示（PM 発出済み）
- Aチーム: `@A-team 実行: A5,A8,A12`  
  例題データセット外部定義化、警告/リファクタ整理、ベンチ可視化仕上げを優先。
- Bチーム: `@B-team 実行: B3,B6,B15`  
  Run ID 自動反映の本番化、成果物最小化ポリシー適用、チャット共有テンプレ更新を優先。
- Cチーム: `@C-team 実行: C4,C12,C20`  
  条件数/ピボット解説の再構成、ドキュメントのフォーマット統一＆簡易Lint、Changelog 運用強化の明文化を実施。

## Aチームタスク（実装/検証・長期）
1. OpenMP on/off 切替オプションをCLI化し、pivot/cond差分を自動比較するテストを追加。  
2. dump-json/verboseを拡張し、J行・入力パラメータ・異常系(NaN/Inf/pivot≈0)を最小再現JSONに出力。  
3. 摩擦スイープ端点と質量比1:100などストレスケースをデータセット化し、cond/pivot安定性を検証。  
4. ベンチスレッドスイープ(1/2/4/8)を本番化し、1.5x超を警告/失敗に切替可能に。  
5. 例題データセット拡充（JSON/CSV）で全拘束ケースを外部定義に移行。  
6. 新拘束タイプ追加テンプレート（構造体/J/テスト/ドキュメント）を作成。  
7. 決定性を保ちつつ近似誤差許容をケース別定義しテスト組込み。  
8. Lint/警告（-Wshadow/-Wconversion等）導入検討とリファクタリング。  
9. 手計算ミニケースを追加し期待pivot/condと厳密比較するテストを用意。  
10. 異常系ダンプ/復帰機構を整備し、失敗時に再現データと診断ログを残す。  
11. ケース生成スクリプト強化（パラメータスイープ、ベンチ/テスト入力自動生成）。  
12. ベンチ可視化スクリプトでcond/pivot分布と時間推移をグラフ化。  
13. 接触モデル改良（静摩擦緩衝帯、速度減衰パラメータ）を検証。  
14. 拘束パラメータ感度を調査し、許容レンジを見直す（外部データ更新）。  
15. ログ粒度を整理し最小/詳細切替を実装。  
16. Makefile依存自動列挙とターゲット整理（test/schema/bench分離）。  
17. ベンチ/テスト実行時間の記録と上限設定で逸脱警告を追加。  
18. 複合拘束ケースを追加し相互干渉によるcond/pivot劣化を検証。  
19. データセットのバージョン管理ルールを策定し、テストで対応版をチェック。  
20. constraints.md を最新結果・式・レンジで定期更新し、サンプルCSVを差し替える。

## Bチームタスク（CI/運用・長期）
1. chrono-2d CI安定化（本番/実験分離、dispatch/cron＋スキップタグ運用）。  
2. 拡張スキーマ（vn/vt/µs/µd/stick）チェックを本番運用し、欠落/異常値をfail。  
3. Run ID自動反映（README/ハンドオフ置換）の試験運用→本番化。  
4. ベンチジョブopt-in運用、1.5x超警告/失敗切替の設計。  
5. タイムアウト/リトライ導入とフレーク検証。  
6. 成果物最小化と保持期間設定（ログ/CSV/環境情報のみ）。  
7. スキップタグ運用ルール整備で無駄ジョブを削減。  
8. 週次cronレポート（テスト/ベンチサマリ）Artifacts化とチャット連携。  
9. ログ整形（tail＋タグ付け）と最小再現CSVアップロードを組込み。  
10. PR分割ガイドを実運用に落とし込み、段階CI適用を確立。  
11. 環境差異（OS/runner）記録と再現性ギャップ対策を文書化。  
12. ローカルとCIの差異を洗い出し、再現性ギャップを最小化。  
13. CIカバレッジ拡大（月次計画＋レポート）。  
14. トラブルシュートチェックリスト更新（再現手順・ログリンク標準化）。  
15. チャット共有テンプレ更新（CI結果ワンライナー）。  
16. Artifacts容量監視と自動クリーンアップ設定。  
17. 安定版/実験版ワークフロー整理（cron=安定版、dispatch=実験）。  
18. ベンチ自動比較・アラート強化（履歴をMarkdown/グラフで出力）。  
19. CIセキュリティ/権限（トークン/パーミッション）見直し。  
20. YAMLリファクタリング（重複削減・共通ステップ化）とコメント整備。

## Cチームタスク（ドキュメント/教材・長期）
1. chrono-2d README/Hands-onを月次更新し、最新Run IDとCSVサンプルを差し替え、Changelogに記録。  
2. Hands-onスクリプト運用ガイドを拡充（Run ID記録・CSV確認・リンクチェック・共有のショートカット）。  
3. Run ID貼付ワンライナーを各リポ向けに整備し、チャットテンプレに組み込み。  
4. 条件数/ピボット解説を表＋コマンド例で再構成し、即実行できる形式にする。  
5. 図版/スクショの命名・保存・参照ルールを確立し、追加時はREADMEリンクとChangelog追記を徹底。  
6. リンク/整合チェック手順を明記し、結果共有を運用に定着。  
7. 学習ステップチェックリストを拡張し、コマンド付きで自走できるようにする。  
8. 3D非対応/OpenMPのみの方針を強調し、定期キーワードチェックを運用に組み込む。  
9. CSVスキーマ説明とサンプル生成の手順をテンプレ化し、生成スクリプトで最新化。  
10. 命名ポリシーを短文化し、レビュー時の確認リストとして活用。  
11. Run ID区別ルールを統一し、abc_team_chat_handoff/git_setup/READMEで参照を同期。  
12. ドキュメントフォーマット統一と簡易Lintチェックを導入。  
13. 例題データセットの説明と更新手順をまとめ、学習者が差し替えやすいガイドを提供。  
14. アーカイブ方針（古いRun/ログの扱い）を明文化し、定期整理を実施。  
15. CI/運用ドキュメントへの導線をREADMEやハンドオフに追加し、更新時の連絡フローを簡潔にまとめる。  
16. Hands-onで得たRun ID/CSVの反映先とチェックリストを作成。  
17. 逸脱/異常時の連絡テンプレ（何を貼るか、どこに送るか）を整備。  
18. 用語・表記揺れガイドラインを作り、定期スキャンで修正を運用。  
19. スクショ/図版の格納場所と更新ルールを決め、定期差し替えサイクルを設定。  
20. Changelog運用を強化し、ドキュメント変更トリガー（リンク追加、図版更新、Run差し替え等）を明文化して遵守。
